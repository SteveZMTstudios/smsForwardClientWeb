"use strict";(self["webpackChunksmsFW"]=self["webpackChunksmsFW"]||[]).push([[211],{4211:function(e,t,a){a.r(t),a.d(t,{default:function(){return d}});var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"content",on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.doQuery.apply(null,arguments)}}},[a("a-space",{attrs:{direction:"vertical"}},[a("a-row",[a("a-space",[a("a-col",[e._v(" 通话类型: ")]),a("a-col",[a("a-select",{ref:"select",staticStyle:{width:"70px"},model:{value:e.query.type,callback:function(t){e.$set(e.query,"type",t)},expression:"query.type"}},e._l(e.options,(function(t){return a("a-select-option",{key:t.value,attrs:{value:t.value}},[e._v(" "+e._s(t.label)+" ")])})),1)],1),a("a-col",[e._v(" 页码: ")]),a("a-col",[a("a-input-number",{staticStyle:{width:"60px"},attrs:{onchange:e.doQuery,label:"页码",placeholder:"请输入页码"},model:{value:e.pagination.current,callback:function(t){e.$set(e.pagination,"current",t)},expression:"pagination.current"}})],1)],1)],1),a("a-row",[a("a-space",[a("a-col",[e._v(" 分页大小: ")]),a("a-col",[a("a-input-number",{staticStyle:{width:"60px"},attrs:{label:"分页大小",placeholder:"请输入分页大小"},model:{value:e.pagination.defaultPageSize,callback:function(t){e.$set(e.pagination,"defaultPageSize",t)},expression:"pagination.defaultPageSize"}})],1),a("a-col",[e._v(" 手机号模糊匹配: ")]),a("a-col",[a("a-input",{staticStyle:{width:"100px"},attrs:{placeholder:"请输入关键字"},model:{value:e.query.phone_number,callback:function(t){e.$set(e.query,"phone_number",t)},expression:"query.phone_number"}})],1)],1)],1),a("a-row",[a("a-space",[a("a-col",[a("a-button",{attrs:{type:"primary"},on:{click:e.doQuery}},[e._v("刷新")])],1)],1)],1)],1),a("a-divider",[e._v("分割线")]),a("a-table",{attrs:{columns:e.columns,"data-source":e.tableData,pagination:e.pagination,rowKey:function(e){return e.dateLong+e.number},loading:e.tableLoading,size:"small",bordered:""},scopedSlots:e._u([{key:"number",fn:function(t,n){return[a("div",{attrs:{title:n.name}},[n.name&&"未知号码"!==n.name?a("a-tag",[a("a-icon",{attrs:{type:"read"}}),e._v(" "+e._s(n.name)+" ")],1):e._e(),a("a-tag",{staticStyle:{color:"#38a624"}},[e._v(" "+e._s(n.number?n.number:"-")+" ")]),1===n.type?a("a-tag",[e._v("呼入")]):2===n.type?a("a-tag",[e._v("呼出")]):3===n.type?a("a-tag",[e._v("未接")]):a("a-tag",[e._v("未知")]),a("a-tag",[e._v(" "+e._s("通话时长："+n.duration+"秒")+" ")])],1)]}},{key:"date",fn:function(t,n){return[a("div",{style:{color:"#000"}},[e._v(" "+e._s(e.format(t,"yyyy-MM-dd HH:mm:ss"))+" ")])]}},{key:"sim",fn:function(t,n){return[0===t?a("a-tag",{attrs:{color:"#38a624",title:"卡槽一"}},[e._v(" SIM1 ")]):1===t?a("a-tag",{attrs:{color:"#756616",title:"卡槽二"}},[e._v(" SIM2 ")]):a("a-tag",[e._v(" "+e._s("未知:"+t)+" ")])]}}])})],1)},o=[],i=a(79767),l=a(19387),r={components:{},data:function(){var e=this;return{query:{type:"0",phone_number:""},options:[{value:"0",label:"全部"},{value:"1",label:"呼入"},{value:"2",label:"呼出"},{value:"3",label:"未接"}],solts:[{text:"卡槽一",value:"0"},{text:"卡槽二",value:"1"},{text:"-",value:"-1"}],tableLoading:!0,pagination:{total:0,current:1,defaultPageSize:10,showTotal:function(e){return"共 ".concat(e," 条")},pageSizeOptions:["10","20","50","100"],onChange:function(t,a){return e.onPageChange(t)},onShowSizeChange:function(t,a){return e.onPageShowSizeChange(a)}},tableData:[],columns:[{title:"时间",dataIndex:"dateLong",width:150,scopedSlots:{customRender:"date"}},{title:"卡槽",dataIndex:"sim_id",width:50,filters:this.solts,scopedSlots:{customRender:"sim"}},{title:"详细",dataIndex:"number",scopedSlots:{customRender:"number"}}]}},created:function(){this.doQuery()},methods:{doQuery:function(){var e=this;this.tableLoading=!0;var t=(new Date).getTime();this.$axios({method:"post",url:i.KB()+"/call/query",data:{data:{type:this.query.type,page_num:this.pagination.current,page_size:this.pagination.defaultPageSize,phone_number:this.query.phone_number},timestamp:t,sign:i.Xx(t,i.zY())}}).then((function(t){e.tableData=t.data.data,e.pagination.total=t.data.data.length,e.tableLoading=!1})).catch((function(t){e.tableLoading=!1}))},format:function(e,t){return l.Z.format(new Date(e),t)},onPageChange:function(e,t){this.pagination.current=e},onPageShowSizeChange:function(e){this.pagination.defaultPageSize=e}},watch:{}},u=r,s=a(1001),c=(0,s.Z)(u,n,o,!1,null,null,null),d=c.exports}}]);
//# sourceMappingURL=211-legacy.8243c4ab.js.map