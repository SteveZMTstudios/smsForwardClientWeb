"use strict";(self["webpackChunksmsFW"]=self["webpackChunksmsFW"]||[]).push([[744],{46744:function(t,e,a){a.r(e),a.d(e,{default:function(){return u}});var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"content",on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.loadingMore.apply(null,arguments)}}},[n("a-space",{attrs:{direction:"vertical"}},[n("a-row",[n("a-space",[n("div",[t._v(" 短信类型: ")]),n("a-col",{attrs:{span:4}},[n("a-select",{ref:"select",staticStyle:{width:"70px"},model:{value:t.query.type,callback:function(e){t.$set(t.query,"type",e)},expression:"query.type"}},t._l(t.options,(function(e){return n("a-select-option",{key:e.value,attrs:{value:e.value}},[t._v(" "+t._s(e.label)+" ")])})),1)],1),n("a-col",[t._v(" 关键字: ")]),n("a-col",[n("a-input",{staticStyle:{width:"100px"},attrs:{label:"关键字",placeholder:"请输入关键字"},model:{value:t.query.keyword,callback:function(e){t.$set(t.query,"keyword",e)},expression:"query.keyword"}})],1)],1)],1),n("a-row",[n("a-col",[n("a-button",{attrs:{type:"primary"},on:{click:t.loadingMore}},[t._v("刷新")])],1)],1)],1),n("a-divider",{staticStyle:{color:"#1989fa","border-color":"#1989fa",padding:"0"}},[t._v("双击回复")]),n("a-list",{attrs:{dataSource:t.data,loading:t.loading,rowKey:function(t){return t.date+t.number},"item-layout":"horizontal"},scopedSlots:t._u([{key:"renderItem",fn:function(e,o){return n("a-list-item",{},[n("div",{attrs:{title:e.name},on:{dblclick:function(a){return t.sendSmsLocal(e.number,e.content)}}},[n("a-list-item-meta",[n("div",{staticStyle:{color:"#38a624"},attrs:{slot:"title"},slot:"title"},[t._v(t._s(("未知号码"===e.name?"":e.name+" ")+e.number)+" ")]),n("a-avatar",{attrs:{slot:"avatar",src:a(44552)},slot:"avatar"})],1),n("div",{staticStyle:{"text-align":"left",margin:"0"}},[t._v(t._s("("+(o+1)+")  "+e.content)+" ")]),n("div",{staticStyle:{"text-align":"left",color:"#2f54eb"},attrs:{slot:"footer"},slot:"footer"},[n("div",{staticStyle:{"font-size":"10px"}},[0===e.sim_id?n("a-tag",{attrs:{color:"#38a624",title:"卡槽一"}},[t._v(" SIM1 ")]):1===e.sim_id?n("a-tag",{attrs:{color:"#601bd7",title:"卡槽二"}},[t._v(" SIM2 ")]):n("a-tag",[t._v(" "+t._s("未知:"+e.sim_id)+" ")]),t._v(" "+t._s(t.format(e.date,"yyyy-MM-dd HH:mm:ss"))+" ")],1)])],1)])}}])},[t.showLoadingMore?n("div",{staticStyle:{"text-align":"center"},attrs:{slot:"loadMore"},slot:"loadMore"},[t.loadingMore?n("a-spin"):n("div",{staticStyle:{width:"100%",height:"40px",padding:"0 0","background-color":"#bfbfbf"},on:{click:t.onLoadMore}},[n("div",{staticStyle:{"font-size":"30px",color:"#2f54eb"}},[t._v(" 更多> ")])])],1):t._e()])],1)},o=[],i=(a(92222),a(19387)),r=a(79767),l={components:{},data:function(){var t=this;return{query:{type:"1",keyword:""},options:[{value:"1",label:"接收"},{value:"2",label:"发送"}],solts:[{text:"卡槽一",value:"0"},{text:"卡槽二",value:"1"},{text:"-",value:"-1"}],loading:!1,loadingMore:!1,showLoadingMore:!0,pagination:{size:"small",total:0,current:1,defaultPageSize:10,showTotal:function(t){return"共 ".concat(t," 条")},showSizeChanger:!0,pageSizeOptions:["10","20","50","100"],onChange:function(e,a){return t.onPageChange(e)},onShowSizeChange:function(e,a){return t.onPageShowSizeChange(a)}},data:[]}},created:function(){this.onLoadMore()},mounted:function(){},methods:{onLoadMore:function(){var t=this;this.loadingMore=!0,this.loading=!0;var e=(new Date).getTime();this.$axios({method:"post",url:r.KB()+"/sms/query",data:{data:{type:this.query.type,page_num:this.pagination.current++,page_size:this.pagination.defaultPageSize,keyword:this.query.keyword},timestamp:e,sign:r.Xx(e,r.zY())}}).then((function(e){e.data.data.length<1&&(t.showLoadingMore=!1),t.pagination.current++,t.data=t.data.concat(e.data.data),t.loadingMore=!1,t.$nextTick((function(){window.dispatchEvent(new Event("resize"))})),t.loading=!1})).catch((function(e){t.loadingMore=!1,t.loading=!1}))},format:function(t,e){return i.Z.format(new Date(t),e)},onPageChange:function(t,e){this.pagination.current=t},onPageShowSizeChange:function(t){this.pagination.defaultPageSize=t},sendSmsLocal:function(t,e){r.Vd(t,e)}},watch:{}},s=l,c=a(1001),d=(0,c.Z)(s,n,o,!1,null,null,null),u=d.exports}}]);
//# sourceMappingURL=744-legacy.43f281d8.js.map