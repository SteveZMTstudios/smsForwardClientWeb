"use strict";(self["webpackChunksmsFW"]=self["webpackChunksmsFW"]||[]).push([[722],{82722:function(e,t,a){a.r(t),a.d(t,{default:function(){return d}});var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"content",staticStyle:{width:"100%"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.doQuery.apply(null,arguments)}}},[a("a-space",{attrs:{direction:"vertical"}},[a("a-row",[a("a-space",[a("a-col",{staticStyle:{width:"60px"}},[e._v(" 姓名: ")]),a("a-col",[a("a-input",{staticStyle:{width:"150px"},attrs:{"allow-clear":"",placeholder:"请输入姓名",type:"text"},model:{value:e.query.name,callback:function(t){e.$set(e.query,"name",t)},expression:"query.name"}})],1)],1)],1),a("a-row",[a("a-space",[a("a-col",{staticStyle:{width:"60px"}},[e._v(" 手机号: ")]),a("a-col",[a("a-input",{staticStyle:{width:"150px"},attrs:{"allow-clear":"",placeholder:"请输入手机号",type:"text"},model:{value:e.query.phone_number,callback:function(t){e.$set(e.query,"phone_number",t)},expression:"query.phone_number"}})],1)],1)],1),a("a-col",[a("a-button",{attrs:{type:"primary"},on:{click:e.doQuery}},[e._v("刷新")])],1)],1),a("a-divider",{style:{color:"#1989fa",borderColor:"#1989fa",padding:"0"}},[e._v(" 分割线 ")]),a("a-table",{attrs:{columns:e.columns,"data-source":e.tableData,pagination:e.pagination,loading:e.tableLoading,rowKey:function(e){return e.name+e.phone_number},size:"small",bordered:""},scopedSlots:e._u([{key:"name",fn:function(t,n){return[a("div",{staticStyle:{"font-size":"15px",color:"#2f54eb"},attrs:{title:n.name,rel:"external nofollow"},on:{dblclick:function(t){return e.callLocal(n.phone_number)}}},[a("a-icon",{attrs:{type:"read"}}),e._v(" "+e._s(n.name)+" ")],1)]}},{key:"phone_number",fn:function(t,n){return[a("div",{attrs:{title:n.name},on:{dblclick:function(t){return e.callLocal(n.phone_number)}}},[a("a-tag",{staticStyle:{color:"#38a624","font-size":"20px"}},[e._v(" "+e._s(e.handlePhoneNumber(n.phone_number))+" ")])],1)]}}])})],1)},o=[],l=a(19387),r=a(79767),i={components:{},data(){return{query:{name:"",phone_number:""},tableLoading:!0,tableData:[],columns:[{title:"姓名",align:"left",dataIndex:"name",width:90,scopedSlots:{customRender:"name"}},{title:"号码",align:"left",dataIndex:"phone_number",scopedSlots:{customRender:"phone_number"}}],pagination:{total:0,current:1,defaultPageSize:20,showTotal:e=>`共 ${e} 条`,showSizeChanger:!0,pageSizeOptions:["20","50","80","100"],onChange:(e,t)=>this.onPageChange(e),onShowSizeChange:(e,t)=>this.onPageShowSizeChange(t)}}},created(){this.doQuery()},methods:{doQuery(){this.tableLoading=!0;let e=(new Date).getTime();this.$axios({method:"post",url:r.KB()+"/contact/query",data:{data:{name:this.query.name,phone_number:this.query.phone_number},timestamp:e,sign:r.Xx(e,r.zY())}}).then((e=>{this.tableData=e.data.data,this.tableLoading=!1})).catch((e=>{this.tableLoading=!1}))},format(e,t){return l.Z.format(new Date(e),t)},handlePhoneNumber(e){return e=e.startsWith("+86")?e.substring(3):e,e.replaceAll("-","").replaceAll(" ","")},callLocal(e){r.Bw(e)},onPageChange(e,t){this.pagination.current=e},onPageShowSizeChange(e){this.pagination.defaultPageSize=e}},watch:{}},s=i,u=a(1001),c=(0,u.Z)(s,n,o,!1,null,null,null),d=c.exports}}]);
//# sourceMappingURL=722.017edd9a.js.map