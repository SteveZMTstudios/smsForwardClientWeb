{"version":3,"file":"2207011706/js/211-legacy.8243c4ab.js","mappings":"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","sources":["webpack://smsFW/./src/components/QueryCall.vue?ed21","webpack://smsFW/src/components/QueryCall.vue","webpack://smsFW/./src/components/QueryCall.vue?04b7","webpack://smsFW/./src/components/QueryCall.vue"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"content\",on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.doQuery.apply(null, arguments)}}},[_c('a-space',{attrs:{\"direction\":\"vertical\"}},[_c('a-row',[_c('a-space',[_c('a-col',[_vm._v(\" 通话类型: \")]),_c('a-col',[_c('a-select',{ref:\"select\",staticStyle:{\"width\":\"70px\"},model:{value:(_vm.query.type),callback:function ($$v) {_vm.$set(_vm.query, \"type\", $$v)},expression:\"query.type\"}},_vm._l((_vm.options),function(item){return _c('a-select-option',{key:item.value,attrs:{\"value\":item.value}},[_vm._v(\" \"+_vm._s(item.label)+\" \")])}),1)],1),_c('a-col',[_vm._v(\" 页码: \")]),_c('a-col',[_c('a-input-number',{staticStyle:{\"width\":\"60px\"},attrs:{\"onchange\":_vm.doQuery,\"label\":\"页码\",\"placeholder\":\"请输入页码\"},model:{value:(_vm.pagination.current),callback:function ($$v) {_vm.$set(_vm.pagination, \"current\", $$v)},expression:\"pagination.current\"}})],1)],1)],1),_c('a-row',[_c('a-space',[_c('a-col',[_vm._v(\" 分页大小: \")]),_c('a-col',[_c('a-input-number',{staticStyle:{\"width\":\"60px\"},attrs:{\"label\":\"分页大小\",\"placeholder\":\"请输入分页大小\"},model:{value:(_vm.pagination.defaultPageSize),callback:function ($$v) {_vm.$set(_vm.pagination, \"defaultPageSize\", $$v)},expression:\"pagination.defaultPageSize\"}})],1),_c('a-col',[_vm._v(\" 手机号模糊匹配: \")]),_c('a-col',[_c('a-input',{staticStyle:{\"width\":\"100px\"},attrs:{\"placeholder\":\"请输入关键字\"},model:{value:(_vm.query.phone_number),callback:function ($$v) {_vm.$set(_vm.query, \"phone_number\", $$v)},expression:\"query.phone_number\"}})],1)],1)],1),_c('a-row',[_c('a-space',[_c('a-col',[_c('a-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.doQuery}},[_vm._v(\"刷新\")])],1)],1)],1)],1),_c('a-divider',[_vm._v(\"分割线\")]),_c('a-table',{attrs:{\"columns\":_vm.columns,\"data-source\":_vm.tableData,\"pagination\":_vm.pagination,\"rowKey\":function (o){ return o.dateLong+o.number; },\"loading\":_vm.tableLoading,\"size\":'small',\"bordered\":\"\"},scopedSlots:_vm._u([{key:\"number\",fn:function(text, record){return [_c('div',{attrs:{\"title\":record.name}},[(record.name&&record.name!=='未知号码')?_c('a-tag',[_c('a-icon',{attrs:{\"type\":\"read\"}}),_vm._v(\" \"+_vm._s(record.name)+\" \")],1):_vm._e(),_c('a-tag',{staticStyle:{\"color\":\"#38a624\"}},[_vm._v(\" \"+_vm._s(record.number ? record.number : \"-\")+\" \")]),(record.type===1)?_c('a-tag',[_vm._v(\"呼入\")]):(record.type===2)?_c('a-tag',[_vm._v(\"呼出\")]):(record.type===3)?_c('a-tag',[_vm._v(\"未接\")]):_c('a-tag',[_vm._v(\"未知\")]),_c('a-tag',[_vm._v(\" \"+_vm._s('通话时长：' + record.duration + '秒')+\" \")])],1)]}},{key:\"date\",fn:function(text, record){return [_c('div',{style:({color:'#000'})},[_vm._v(\" \"+_vm._s(_vm.format(text, \"yyyy-MM-dd HH:mm:ss\"))+\" \")])]}},{key:\"sim\",fn:function(text, record){return [(text===0)?_c('a-tag',{attrs:{\"color\":'#38a624',\"title\":\"卡槽一\"}},[_vm._v(\" SIM1 \")]):(text===1)?_c('a-tag',{attrs:{\"color\":'#756616',\"title\":\"卡槽二\"}},[_vm._v(\" SIM2 \")]):_c('a-tag',[_vm._v(\" \"+_vm._s('未知:' + text)+\" \")])]}}])})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"content\" @keyup.enter=\"doQuery\">\r\n    <a-space direction=\"vertical\">\r\n      <a-row>\r\n        <a-space>\r\n          <a-col>\r\n            通话类型:\r\n          </a-col>\r\n          <a-col>\r\n            <a-select\r\n                ref=\"select\"\r\n                v-model=\"query.type\"\r\n                style=\"width: 70px\"\r\n            >\r\n              <a-select-option\r\n                  v-for=\"item in options\"\r\n                  :key=\"item.value\"\r\n                  :value=\"item.value\">\r\n                {{ item.label }}\r\n              </a-select-option>\r\n            </a-select>\r\n          </a-col>\r\n          <a-col>\r\n            页码:\r\n          </a-col>\r\n          <a-col>\r\n            <a-input-number v-model=\"pagination.current\" :onchange=\"doQuery\" label=\"页码\" placeholder=\"请输入页码\"\r\n                            style=\"width: 60px\"></a-input-number>\r\n          </a-col>\r\n        </a-space>\r\n      </a-row>\r\n      <a-row>\r\n        <a-space>\r\n          <a-col>\r\n            分页大小:\r\n          </a-col>\r\n          <a-col>\r\n            <a-input-number v-model=\"pagination.defaultPageSize\" label=\"分页大小\" placeholder=\"请输入分页大小\"\r\n                            style=\"width: 60px\"></a-input-number>\r\n          </a-col>\r\n          <a-col>\r\n            手机号模糊匹配:\r\n          </a-col>\r\n          <a-col>\r\n            <a-input v-model=\"query.phone_number\" placeholder=\"请输入关键字\" style=\"width: 100px\"></a-input>\r\n          </a-col>\r\n        </a-space>\r\n      </a-row>\r\n      <a-row>\r\n        <a-space>\r\n          <a-col>\r\n            <a-button type=\"primary\" @click=\"doQuery\">刷新</a-button>\r\n          </a-col>\r\n        </a-space>\r\n      </a-row>\r\n    </a-space>\r\n    <a-divider>分割线</a-divider>\r\n\r\n    <a-table :columns=\"columns\" :data-source=\"tableData\" :pagination=\"pagination\" :rowKey='o=>o.dateLong+o.number'\r\n             :loading=\"tableLoading\"\r\n             :size=\"'small'\" bordered>\r\n      <template v-slot:number=\"text, record\">\r\n        <div :title=\"record.name\">\r\n          <a-tag v-if=\"record.name&&record.name!=='未知号码'\">\r\n            <a-icon type=\"read\"></a-icon>\r\n            {{ record.name }}\r\n          </a-tag>\r\n          <a-tag style=\"color:#38a624;\">\r\n            {{ record.number ? record.number : \"-\" }}\r\n          </a-tag>\r\n          <a-tag v-if=\"record.type===1\">呼入</a-tag>\r\n          <a-tag v-else-if=\"record.type===2\">呼出</a-tag>\r\n          <a-tag v-else-if=\"record.type===3\">未接</a-tag>\r\n          <a-tag v-else>未知</a-tag>\r\n\r\n          <a-tag>\r\n            {{ '通话时长：' + record.duration + '秒' }}\r\n          </a-tag>\r\n        </div>\r\n      </template>\r\n      <template #date=\"text, record\">\r\n        <div :style=\"{color:'#000'}\">\r\n          {{ format(text, \"yyyy-MM-dd HH:mm:ss\") }}\r\n        </div>\r\n      </template>\r\n      <template #sim=\"text, record\">\r\n        <a-tag v-if=\"text===0\" :color=\"'#38a624'\" title=\"卡槽一\">\r\n          SIM1\r\n        </a-tag>\r\n        <a-tag v-else-if=\"text===1\" :color=\"'#756616'\" title=\"卡槽二\">\r\n          SIM2\r\n        </a-tag>\r\n        <a-tag v-else>\r\n          {{ '未知:' + text }}\r\n        </a-tag>\r\n      </template>\r\n    </a-table>\r\n\r\n  </div>\r\n</template>\r\n\r\n\r\n<script>\r\nimport * as tools from \"@/util/tools\";\r\nimport DateFormat from '@/util/dateFormat';\r\n\r\nexport default {\r\n  components: {},\r\n  data() {\r\n    return {\r\n      query: {\r\n        type: \"0\",\r\n        phone_number: \"\"\r\n      },\r\n      options: [\r\n        {value: '0', label: '全部'},\r\n        {value: '1', label: '呼入'},\r\n        {value: '2', label: '呼出'},\r\n        {value: '3', label: '未接'},\r\n      ],\r\n      solts: [\r\n        {text: \"卡槽一\", value: \"0\"},\r\n        {text: \"卡槽二\", value: \"1\"},\r\n        {text: \"-\", value: \"-1\"}\r\n      ],\r\n      tableLoading: true,\r\n      pagination: {\r\n        // size: 'small',\r\n        total: 0,\r\n        current: 1,\r\n        defaultPageSize: 10,\r\n        showTotal: total => `共 ${total} 条`,\r\n        // showSizeChanger: true,\r\n        pageSizeOptions: ['10', '20', '50', '100'],\r\n        onChange: (current, pageSize) => this.onPageChange(current),\r\n        onShowSizeChange: (current, pageSize) => this.onPageShowSizeChange(pageSize)\r\n      },\r\n      tableData: [],\r\n      columns: [\r\n        {\r\n          title: \"时间\",\r\n          dataIndex: \"dateLong\",\r\n          width: 150,\r\n          scopedSlots: {customRender: 'date'}\r\n        },\r\n        {\r\n          title: \"卡槽\",\r\n          dataIndex: \"sim_id\",\r\n          width: 50,\r\n          filters: this.solts,\r\n          scopedSlots: {customRender: 'sim'},\r\n        },\r\n        {\r\n          title: \"详细\",\r\n          dataIndex: \"number\",\r\n          scopedSlots: {customRender: 'number'}\r\n        }\r\n      ]\r\n    }\r\n  },\r\n  created() {\r\n    this.doQuery()\r\n  }\r\n  ,\r\n  methods: {\r\n    doQuery() {\r\n      this.tableLoading = true\r\n      let timestamp = new Date().getTime();\r\n      this.$axios({\r\n        method: 'post',\r\n        url: tools.serverUrl() + `/call/query`,\r\n        data: {\r\n          \"data\": {\r\n            \"type\": this.query.type,\r\n            \"page_num\": this.pagination.current,\r\n            \"page_size\": this.pagination.defaultPageSize,\r\n            \"phone_number\": this.query.phone_number,\r\n          },\r\n          \"timestamp\": timestamp,\r\n          \"sign\": tools.sign(timestamp, tools.secret())\r\n        }\r\n      }).then(res => {\r\n        this.tableData = res.data.data\r\n        this.pagination.total = res.data.data.length\r\n        this.tableLoading = false\r\n      }).catch(err => {\r\n        this.tableLoading = false\r\n      })\r\n    },\r\n    format(date, fmt) {\r\n      return DateFormat.format(new Date(date), fmt)\r\n    },\r\n    onPageChange(page, pageSize) {\r\n      this.pagination.current = page\r\n      // this.doQuery()\r\n    },\r\n    onPageShowSizeChange(pageSize) {\r\n      this.pagination.defaultPageSize = pageSize\r\n      // this.doQuery()\r\n    }\r\n  },\r\n  watch: {}\r\n}\r\n</script>\r\n\r\n<style>\r\n</style>\r\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./QueryCall.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./QueryCall.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./QueryCall.vue?vue&type=template&id=493c7340&\"\nimport script from \"./QueryCall.vue?vue&type=script&lang=js&\"\nexport * from \"./QueryCall.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","on","$event","type","indexOf","_k","keyCode","key","doQuery","apply","arguments","attrs","_v","ref","staticStyle","model","value","query","callback","$$v","$set","expression","_l","item","_s","label","pagination","columns","tableData","o","dateLong","number","tableLoading","scopedSlots","_u","fn","text","record","name","_e","duration","style","color","format","staticRenderFns","components","data","phone_number","options","solts","total","current","defaultPageSize","showTotal","pageSizeOptions","onChange","onShowSizeChange","title","dataIndex","width","customRender","filters","created","methods","method","url","then","catch","date","fmt","onPageChange","page","pageSize","onPageShowSizeChange","watch","component"],"sourceRoot":""}