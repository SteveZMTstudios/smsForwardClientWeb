{"version":3,"file":"2207011706/js/413-legacy.5b06e27a.js","mappings":"uJAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,WAAW,CAACF,EAAG,UAAU,CAACG,MAAM,CAAC,UAAY,aAAa,CAACH,EAAG,QAAQ,CAACA,EAAG,UAAU,CAACA,EAAG,QAAQ,CAACJ,EAAIQ,GAAG,WAAWJ,EAAG,QAAQ,CAACA,EAAG,iBAAiB,CAACK,YAAY,CAAC,MAAQ,SAASF,MAAM,CAAC,YAAc,UAAUG,MAAM,CAACC,MAAOX,EAAgB,aAAEY,SAAS,SAAUC,GAAMb,EAAIc,aAAaD,GAAKE,WAAW,mBAAmB,IAAI,IAAI,GAAGX,EAAG,QAAQ,CAACA,EAAG,UAAU,CAACA,EAAG,QAAQ,CAACA,EAAG,WAAW,CAACY,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,SAASP,MAAM,CAAEQ,KAAKnB,EAAIoB,mBAAoBL,WAAW,6BAA6BM,MAAOrB,EAAe,YAAEO,MAAM,CAAC,KAAO,WAAWe,GAAG,CAAC,MAAQtB,EAAIuB,OAAO,CAACvB,EAAIQ,GAAG,aAAa,GAAGJ,EAAG,QAAQ,CAACA,EAAG,eAAe,CAACG,MAAM,CAAC,cAAc,KAAK,UAAU,MAAMe,GAAG,CAAC,QAAUtB,EAAIwB,MAAMC,YAAYzB,EAAI0B,GAAG,CAAC,CAACC,IAAI,QAAQC,GAAG,WAAW,MAAO,CAACxB,EAAG,IAAI,CAACK,YAAY,CAAC,MAAQ,QAAQ,CAACT,EAAIQ,GAAG,yBAAyBqB,OAAM,MAAS,CAACzB,EAAG,SAAS,CAACK,YAAY,CAAC,MAAQ,OAAOF,MAAM,CAAC,KAAO,OAAO,KAAO,qBAAqBuB,KAAK,SAAS1B,EAAG,WAAW,CAACY,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,SAASP,MAAM,CAAEQ,KAAKnB,EAAIoB,mBAAoBL,WAAW,6BAA6BM,MAAOrB,EAAe,YAAEO,MAAM,CAAC,KAAO,YAAY,CAACP,EAAIQ,GAAG,aAAa,IAAI,IAAI,IAAI,GAAGJ,EAAG,QAAQ,CAACA,EAAG,UAAU,CAACA,EAAG,QAAQ,CAACA,EAAG,eAAe,CAACG,MAAM,CAAC,cAAc,KAAK,UAAU,MAAMe,GAAG,CAAC,QAAUtB,EAAI+B,cAAcN,YAAYzB,EAAI0B,GAAG,CAAC,CAACC,IAAI,QAAQC,GAAG,WAAW,MAAO,CAACxB,EAAG,IAAI,CAACK,YAAY,CAAC,MAAQ,QAAQ,CAACT,EAAIQ,GAAG,sBAAsBqB,OAAM,MAAS,CAACzB,EAAG,SAAS,CAACK,YAAY,CAAC,MAAQ,OAAOF,MAAM,CAAC,KAAO,OAAO,KAAO,qBAAqBuB,KAAK,SAAS1B,EAAG,WAAW,CAACiB,MAAOrB,EAAe,YAAEO,MAAM,CAAC,KAAO,YAAY,CAACP,EAAIQ,GAAG,WAAW,IAAI,GAAGJ,EAAG,QAAQ,CAACA,EAAG,WAAW,CAACiB,MAAOrB,EAAe,YAAEO,MAAM,CAAC,WAAWP,EAAIgC,UAAUhC,EAAIgC,SAASC,OAAO,SAAEC,EAAe,KAAO,WAAWZ,GAAG,CAAC,MAAQtB,EAAImC,WAAW,CAACnC,EAAIQ,GAAG,aAAa,IAAI,IAAI,GAAGJ,EAAG,QAAQ,CAACA,EAAG,UAAU,CAACA,EAAG,QAAQ,CAACA,EAAG,WAAW,CAACiB,MAAOrB,EAAe,YAAEO,MAAM,CAAC,gBAAgBP,EAAIoC,aAAa,YAAYpC,EAAIgC,SAAS,OAAShC,EAAIqC,aAAa,OAAS,UAAU,CAACjC,EAAG,WAAW,CAACA,EAAG,SAAS,CAACG,MAAM,CAAC,KAAO,YAAYP,EAAIQ,GAAG,WAAW,IAAI,IAAI,IAAI,IAAI,IAAI,GAAGJ,EAAG,YAAY,CAACiB,MAAM,CAAGiB,MAAO,UAAWC,YAAa,UAAWC,QAAS,MAAQ,CAACxC,EAAIQ,GAAG,WAAWJ,EAAG,WAAW,CAACG,MAAM,CAAC,KAAOP,EAAIyC,SAAS,IAC1zEC,EAAkB,GCDP,SAASC,EAAkBC,EAAKC,IAClC,MAAPA,GAAeA,EAAMD,EAAIX,UAAQY,EAAMD,EAAIX,QAE/C,IAAK,IAAIa,EAAI,EAAGC,EAAO,IAAIC,MAAMH,GAAMC,EAAID,EAAKC,IAC9CC,EAAKD,GAAKF,EAAIE,GAGhB,OAAOC,ECNM,SAASE,EAAmBL,GACzC,GAAII,MAAME,QAAQN,GAAM,OAAOO,EAAiBP,G,+DCFnC,SAASQ,EAAiBC,GACvC,GAAsB,qBAAXC,QAAmD,MAAzBD,EAAKC,OAAOC,WAA2C,MAAtBF,EAAK,cAAuB,OAAOL,MAAMQ,KAAKH,G,oCCAvG,SAASI,EAA4BC,EAAGC,GACrD,GAAKD,EAAL,CACA,GAAiB,kBAANA,EAAgB,OAAOP,EAAiBO,EAAGC,GACtD,IAAIC,EAAIC,OAAOC,UAAUC,SAASC,KAAKN,GAAGO,MAAM,GAAI,GAEpD,MADU,WAANL,GAAkBF,EAAEQ,cAAaN,EAAIF,EAAEQ,YAAYjD,MAC7C,QAAN2C,GAAqB,QAANA,EAAoBZ,MAAMQ,KAAKE,GACxC,cAANE,GAAqB,2CAA2CO,KAAKP,GAAWT,EAAiBO,EAAGC,QAAxG,G,SCPa,SAASS,IACtB,MAAM,IAAIC,UAAU,wICGP,SAASC,EAAmB1B,GACzC,OAAO2B,EAAkB3B,IAAQ4B,EAAgB5B,IAAQ6B,EAA2B7B,IAAQ8B,I,iCCL1F,EAAS,WAAa,IAAI1E,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACY,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,SAASP,MAAOX,EAAQ,KAAEe,WAAW,SAAST,YAAY,WAAW,CAACF,EAAG,MAAM,CAACuE,SAAS,CAAC,UAAY3E,EAAI4E,GAAG5E,EAAI6E,qBACxP,EAAkB,G,kBCKtB,SAASC,EAAgBrC,GAKzB,MAJA,qBACAA,EAAAA,KAAAA,UAAAA,OAAAA,EAAAA,IAEAA,EAAAA,EAAAA,QAAAA,KAAAA,KAAAA,QAAAA,KAAAA,KAAAA,QAAAA,KAAAA,KACA,gIACA,eAYA,MAXA,aAEAsC,EADA,aACAA,MAEAA,SAEA,qBACAA,EAAAA,UACA,iBACAA,EAAAA,QAEA,sCAIA,OACAC,QADA,WAEA,iCAEAC,MAAAA,CAAAA,QACAC,KALA,WAMA,OACAL,cAAAA,KAGAM,MAAAA,CACA1C,KAAAA,SAAAA,EAAAA,GACA,2BCxCmQ,I,UCQ/P2C,GAAY,OACd,EACA,EACA,GACA,EACA,KACA,WACA,MAIF,EAAeA,EAAiB,Q,2BCnBzB,SAASC,EAASH,EAAMI,GAC3BJ,EAAuB,kBAATA,EAAoBA,EAAOK,KAAKC,UAAUN,GAGxD,IAAIO,EAAO,IAAIC,KAAK,CAACR,IACrB,GAAI,qBAAsBS,UACtBC,OAAOD,UAAUE,iBAAiBJ,EAAMH,OACrC,CACH,IAAMQ,EAAQC,SAASC,cAAc,KACrCF,EAAMG,SAAWX,EACjBQ,EAAMzE,MAAM6E,QAAU,OAEtBJ,EAAMK,KAAOC,IAAIC,gBAAgBZ,GACjCM,SAASO,KAAKC,YAAYT,GAC1BA,EAAMU,QACNJ,IAAIK,gBAAgBX,EAAMK,MAC1BJ,SAASO,KAAKI,YAAYZ,I,eCgFlC,GACAa,WAAAA,CACAC,QAAAA,GAEA1B,KAJA,WAKA,OACAlD,SAAAA,GACAS,KAAAA,GACA3B,aAAAA,OACA+F,YAAAA,CACAC,MAAAA,WAIAC,QAAAA,WACA,aAEAC,QAAAA,CACA3E,aADA,SACA4E,GACA,+BACA,wBACAC,EAAAA,OAAAA,EAAAA,GACA,iBAEA9E,aAPA,SAOA6E,GAEA,OADA,4CACA,GAEA9E,SAXA,WAWA,WACA,0CACA,iCADA,CAIA,qBACAgF,EAAAA,OAAAA,WAAA,wBACAA,EAAAA,WAAAA,KAAAA,SAAAA,MAEApF,aApBA,WAqBAqF,QAAAA,IAAAA,KAAAA,MACA/B,EAAAA,KAAAA,KAAAA,gBAEA9D,KAxBA,WAwBA,WACA,uBACA,aACA8F,OAAAA,OACAC,IAAAA,EAAAA,KAAAA,cACApC,KAAAA,CACAA,KAAAA,CACApE,aAAAA,KAAAA,cAEAyG,UAAAA,EACAC,KAAAA,EAAAA,GAAAA,EAAAA,EAAAA,SAEAC,MAAA,YAGA,sBACAC,OAAA,YACA,cAGAlG,KA5CA,WA6CA,2BACA,aACA6F,OAAAA,OACAC,IAAAA,EAAAA,KAAAA,cACApC,KAAAA,CACAA,KAAAA,KAAAA,KACAqC,UAAAA,EACAC,KAAAA,EAAAA,GAAAA,EAAAA,EAAAA,SAEAC,MAAA,YAEAE,EAAAA,EAAAA,UAAAA,SAAAA,QAAAA,aAGAvG,kBA3DA,WA4DA,gBAGA+D,MAAAA,IChLuQ,ICOnQ,GAAY,OACd,EACApF,EACA2C,GACA,EACA,KACA,KACA,MAIF,EAAe,EAAiB","sources":["webpack://smsFW/./src/components/QueryConfig.vue?b6ea","webpack://smsFW/./node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","webpack://smsFW/./node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","webpack://smsFW/./node_modules/@babel/runtime/helpers/esm/iterableToArray.js","webpack://smsFW/./node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","webpack://smsFW/./node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","webpack://smsFW/./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","webpack://smsFW/./src/components/JsonPre.vue?7a6d","webpack://smsFW/src/components/JsonPre.vue","webpack://smsFW/./src/components/JsonPre.vue?bcae","webpack://smsFW/./src/components/JsonPre.vue","webpack://smsFW/./src/util/fileUtil.js","webpack://smsFW/src/components/QueryConfig.vue","webpack://smsFW/./src/components/QueryConfig.vue?01a4","webpack://smsFW/./src/components/QueryConfig.vue"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"content\"},[_c('a-space',{attrs:{\"direction\":\"vertical\"}},[_c('a-row',[_c('a-space',[_c('a-col',[_vm._v(\" 版本码：\")]),_c('a-col',[_c('a-input-number',{staticStyle:{\"width\":\"150px\"},attrs:{\"placeholder\":\"请输入版本码\"},model:{value:(_vm.version_code),callback:function ($$v) {_vm.version_code=$$v},expression:\"version_code\"}})],1)],1)],1),_c('a-row',[_c('a-space',[_c('a-col',[_c('a-button',{directives:[{name:\"auth\",rawName:\"v-auth\",value:({auth:_vm.enableCloneConfig}),expression:\"{auth:enableCloneConfig}\"}],style:(_vm.buttonStyle),attrs:{\"type\":\"primary\"},on:{\"click\":_vm.pull}},[_vm._v(\" 获取配置 \")])],1),_c('a-col',[_c('a-popconfirm',{attrs:{\"cancel-text\":\"取消\",\"ok-text\":\"确认\"},on:{\"confirm\":_vm.push},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_c('p',{staticStyle:{\"color\":\"red\"}},[_vm._v(\"用页面显示的配置覆盖服务端的配置？\")])]},proxy:true}])},[_c('a-icon',{staticStyle:{\"color\":\"red\"},attrs:{\"slot\":\"icon\",\"type\":\"question-circle-o\"},slot:\"icon\"}),_c('a-button',{directives:[{name:\"auth\",rawName:\"v-auth\",value:({auth:_vm.enableCloneConfig}),expression:\"{auth:enableCloneConfig}\"}],style:(_vm.buttonStyle),attrs:{\"type\":\"primary\"}},[_vm._v(\" 推送配置 \")])],1)],1)],1)],1),_c('a-row',[_c('a-space',[_c('a-col',[_c('a-popconfirm',{attrs:{\"cancel-text\":\"取消\",\"ok-text\":\"确认\"},on:{\"confirm\":_vm.downloadFile},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_c('p',{staticStyle:{\"color\":\"red\"}},[_vm._v(\"保存此页面显示的配置到本地？\")])]},proxy:true}])},[_c('a-icon',{staticStyle:{\"color\":\"red\"},attrs:{\"slot\":\"icon\",\"type\":\"question-circle-o\"},slot:\"icon\"}),_c('a-button',{style:(_vm.buttonStyle),attrs:{\"type\":\"primary\"}},[_vm._v(\"保存本地\")])],1)],1),_c('a-col',[_c('a-button',{style:(_vm.buttonStyle),attrs:{\"disabled\":_vm.fileList&&_vm.fileList.length>0?undefined:true,\"type\":\"primary\"},on:{\"click\":_vm.readFile}},[_vm._v(\" 预览文件 \")])],1)],1)],1),_c('a-row',[_c('a-space',[_c('a-col',[_c('a-upload',{style:(_vm.buttonStyle),attrs:{\"before-upload\":_vm.beforeUpload,\"file-list\":_vm.fileList,\"remove\":_vm.handleRemove,\"accept\":\".json\"}},[_c('a-button',[_c('a-icon',{attrs:{\"type\":\"upload\"}}),_vm._v(\" 选择文件 \")],1)],1)],1)],1)],1)],1),_c('a-divider',{style:({ color: '#1989fa', borderColor: '#1989fa', padding: '0' })},[_vm._v(\" 分割线 \")]),_c('json-pre',{attrs:{\"json\":_vm.json}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayWithoutHoles from \"./arrayWithoutHoles.js\";\nimport iterableToArray from \"./iterableToArray.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableSpread from \"./nonIterableSpread.js\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.json),expression:\"json\"}],staticClass:\"content\"},[_c('pre',{domProps:{\"innerHTML\":_vm._s(_vm.formattedJSON)}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"content\" v-show=\"json\">\r\n    <pre v-html=\"formattedJSON\"></pre>\r\n  </div>\r\n</template>\r\n<script>\r\nfunction syntaxHighlight(json) {\r\n  if (typeof json != 'string') {\r\n    json = JSON.stringify(json, undefined, 2);\r\n  }\r\n  json = json.replace(/&/g, '&').replace(/</g, '<').replace(/>/g, '>');\r\n  return json.replace(/(\"(\\\\u[a-zA-Z0-9]{4}|\\\\[^u]|[^\\\\\"])*\"(\\s*:)?|\\b(true|false|null)\\b|-?\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?)/g, function (match) {\r\n    var cls = 'number';\r\n    if (/^\"/.test(match)) {\r\n      if (/:$/.test(match)) {\r\n        cls = 'key';\r\n      } else {\r\n        cls = 'string';\r\n      }\r\n    } else if (/true|false/.test(match)) {\r\n      cls = 'boolean';\r\n    } else if (/null/.test(match)) {\r\n      cls = 'null';\r\n    }\r\n    return '<span class=\"' + cls + '\">' + match + '</span>';\r\n  });\r\n}\r\n\r\nexport default {\r\n  mounted() {\r\n    this.formattedJSON = syntaxHighlight(this.json)\r\n  },\r\n  props: ['json',],\r\n  data() {\r\n    return {\r\n      formattedJSON: ''\r\n    }\r\n  },\r\n  watch: {\r\n    json: function (val, oldVal) {\r\n      this.formattedJSON = syntaxHighlight(val)\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style scoped>\r\n/deep/ pre {\r\n  outline: 1px solid #ccc;\r\n  padding: 20px;\r\n  margin: 5px;\r\n  text-align: left;\r\n}\r\n\r\n/deep/ .string {\r\n  color: green;\r\n}\r\n\r\n/deep/ .number {\r\n  color: darkorange;\r\n}\r\n\r\n/deep/ .boolean {\r\n  color: blue;\r\n}\r\n\r\n/deep/ .null {\r\n  color: magenta;\r\n}\r\n\r\n/deep/ .key {\r\n  color: red;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./JsonPre.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./JsonPre.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./JsonPre.vue?vue&type=template&id=31a4878b&scoped=true&\"\nimport script from \"./JsonPre.vue?vue&type=script&lang=js&\"\nexport * from \"./JsonPre.vue?vue&type=script&lang=js&\"\nimport style0 from \"./JsonPre.vue?vue&type=style&index=0&id=31a4878b&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"31a4878b\",\n  null\n  \n)\n\nexport default component.exports","export function downLoad(data, filename) {\r\n    data = typeof data === \"string\" ? data : JSON.stringify(data)\r\n    // res 调用接口后返回的数据\r\n    // filename自定义文件名\r\n    let blob = new Blob([data]); // 将返回的数据通过Blob的构造方法，创建Blob对象\r\n    if ('msSaveOrOpenBlob' in navigator) {\r\n        window.navigator.msSaveOrOpenBlob(blob, filename); // 针对浏览器\r\n    } else {\r\n        const elink = document.createElement('a'); // 创建a标签\r\n        elink.download = filename;\r\n        elink.style.display = 'none';\r\n        // 创建一个指向blob的url，这里就是点击可以下载文件的根结\r\n        elink.href = URL.createObjectURL(blob);\r\n        document.body.appendChild(elink);\r\n        elink.click();\r\n        URL.revokeObjectURL(elink.href); //移除链接\r\n        document.body.removeChild(elink); //移除a标签\r\n    }\r\n}\r\n\r\nexport function uploadFile(event, onload) {\r\n    console.log(event)\r\n    //此处校验文件后缀\r\n    const selectedFile = event.target.files[0]\r\n    // (利用console.log输出看file文件对象)json\r\n    let num = selectedFile.name.split('.');\r\n    let mun = num[num.length - 1];\r\n    console.log('文件后缀:', mun)\r\n    console.log('文件:', selectedFile)\r\n    // FileReader对象，h5提供的异步api，可以读取文件中的数据。\r\n    const reader = new FileReader()\r\n    //当读取完成后回调这个函数,然后此时文件的内容存储到了result中,直接操作即可,此处this指向reader，_that指向vue data，this.result就是文件的内容\r\n    reader.onload = () => onload(reader.result)\r\n    // readAsText是个异步操作，只有等到onload时才能显示数据。\r\n    reader.readAsText(selectedFile)\r\n}\r\n","<template>\r\n  <div class=\"content\">\r\n    <a-space direction=\"vertical\">\r\n      <a-row>\r\n        <a-space>\r\n          <a-col> 版本码：</a-col>\r\n          <a-col>\r\n            <a-input-number\r\n                v-model=\"version_code\"\r\n                placeholder=\"请输入版本码\"\r\n                style=\"width: 150px\"\r\n            />\r\n          </a-col>\r\n        </a-space>\r\n      </a-row>\r\n      <a-row>\r\n        <a-space>\r\n          <a-col>\r\n            <a-button v-auth=\"{auth:enableCloneConfig}\" :style=\"buttonStyle\" type=\"primary\" @click=\"pull\">\r\n              获取配置\r\n            </a-button\r\n            >\r\n          </a-col>\r\n          <a-col>\r\n            <a-popconfirm cancel-text=\"取消\" ok-text=\"确认\" @confirm=\"push\">\r\n              <template #title>\r\n                <p style=\"color: red\">用页面显示的配置覆盖服务端的配置？</p>\r\n              </template>\r\n              <a-icon slot=\"icon\" style=\"color: red\" type=\"question-circle-o\"/>\r\n              <a-button v-auth=\"{auth:enableCloneConfig}\" :style=\"buttonStyle\" type=\"primary\">\r\n                推送配置\r\n              </a-button\r\n              >\r\n            </a-popconfirm>\r\n          </a-col>\r\n        </a-space>\r\n      </a-row>\r\n      <a-row>\r\n        <a-space>\r\n          <a-col>\r\n            <a-popconfirm\r\n                cancel-text=\"取消\"\r\n                ok-text=\"确认\"\r\n                @confirm=\"downloadFile\"\r\n            >\r\n              <template #title>\r\n                <p style=\"color: red\">保存此页面显示的配置到本地？</p>\r\n              </template>\r\n              <a-icon slot=\"icon\" style=\"color: red\" type=\"question-circle-o\"/>\r\n              <a-button :style=\"buttonStyle\" type=\"primary\">保存本地</a-button>\r\n            </a-popconfirm>\r\n          </a-col>\r\n          <a-col>\r\n            <a-button :disabled=\"fileList&&fileList.length>0?undefined:true\" :style=\"buttonStyle\" type=\"primary\"\r\n                      @click=\"readFile\">\r\n              预览文件\r\n            </a-button\r\n            >\r\n          </a-col>\r\n        </a-space>\r\n      </a-row>\r\n      <a-row>\r\n        <a-space>\r\n          <a-col>\r\n            <a-upload\r\n                :before-upload=\"beforeUpload\"\r\n                :file-list=\"fileList\"\r\n                :remove=\"handleRemove\"\r\n                :style=\"buttonStyle\"\r\n                accept=\".json\"\r\n            >\r\n              <a-button>\r\n                <a-icon type=\"upload\"/>\r\n                选择文件\r\n              </a-button>\r\n            </a-upload>\r\n          </a-col>\r\n        </a-space>\r\n      </a-row>\r\n    </a-space>\r\n    <a-divider\r\n        :style=\"{ color: '#1989fa', borderColor: '#1989fa', padding: '0' }\"\r\n    >\r\n      分割线\r\n    </a-divider>\r\n    <json-pre :json=\"json\"></json-pre>\r\n  </div>\r\n</template>\r\n\r\n\r\n<script>\r\nimport * as tools from \"@/util/tools\";\r\nimport JsonPre from \"@/components/JsonPre\";\r\nimport {downLoad} from \"@/util/fileUtil\";\r\nimport Vue from 'vue'\r\n\r\nexport default {\r\n  components: {\r\n    JsonPre,\r\n  },\r\n  data() {\r\n    return {\r\n      fileList: [],\r\n      json: \"\",\r\n      version_code: 300042,\r\n      buttonStyle: {\r\n        width: \"110px\",\r\n      },\r\n    };\r\n  },\r\n  created: function () {\r\n    this.pull()\r\n  },\r\n  methods: {\r\n    handleRemove(file) {\r\n      const index = this.fileList.indexOf(file);\r\n      const newFileList = this.fileList.slice();\r\n      newFileList.splice(index, 1);\r\n      this.fileList = newFileList;\r\n    },\r\n    beforeUpload(file) {\r\n      this.fileList = [file, ...this.fileList];\r\n      return false;\r\n    },\r\n    readFile() {\r\n      if (!this.fileList || this.fileList.length < 1) {\r\n        this.$message.error(\"请选择文件\")\r\n        return\r\n      }\r\n      var fileReader = new FileReader();\r\n      fileReader.onload = () => (this.json = fileReader.result);\r\n      fileReader.readAsText(this.fileList[0]);\r\n    },\r\n    downloadFile() {\r\n      console.log(this.json);\r\n      downLoad(this.json, \"config.json\");\r\n    },\r\n    pull() {\r\n      let timestamp = new Date().getTime();\r\n      this.$axios({\r\n        method: \"post\",\r\n        url: tools.serverUrl() + `/clone/pull`,\r\n        data: {\r\n          data: {\r\n            version_code: this.version_code,\r\n          },\r\n          timestamp: timestamp,\r\n          sign: tools.sign(timestamp, tools.secret()),\r\n        },\r\n      }).then((res) => {\r\n        // Vue.prototype.$message.destroy\r\n        // Vue.prototype.$message.success(res.data.msg);\r\n        this.json = res.data.data;\r\n      }).catch((err) => {\r\n        this.json = \"\";\r\n      });\r\n    },\r\n    push() {\r\n      let timestamp = new Date().getTime();\r\n      this.$axios({\r\n        method: \"post\",\r\n        url: tools.serverUrl() + `/clone/push`,\r\n        data: {\r\n          data: this.json,\r\n          timestamp: timestamp,\r\n          sign: tools.sign(timestamp, tools.secret()),\r\n        },\r\n      }).then((res) => {\r\n        // Vue.prototype.$message.destroy\r\n        Vue.prototype.$message.success(\"推送成功!\");\r\n      });\r\n    },\r\n    enableCloneConfig() {\r\n      return tools.enableCloneConfig()\r\n    }\r\n  },\r\n  watch: {}\r\n};\r\n</script>\r\n\r\n<style type=\"less\">\r\n</style>\r\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./QueryConfig.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./QueryConfig.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./QueryConfig.vue?vue&type=template&id=5a928212&\"\nimport script from \"./QueryConfig.vue?vue&type=script&lang=js&\"\nexport * from \"./QueryConfig.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","_v","staticStyle","model","value","callback","$$v","version_code","expression","directives","name","rawName","auth","enableCloneConfig","style","on","pull","push","scopedSlots","_u","key","fn","proxy","slot","downloadFile","fileList","length","undefined","readFile","beforeUpload","handleRemove","color","borderColor","padding","json","staticRenderFns","_arrayLikeToArray","arr","len","i","arr2","Array","_arrayWithoutHoles","isArray","arrayLikeToArray","_iterableToArray","iter","Symbol","iterator","from","_unsupportedIterableToArray","o","minLen","n","Object","prototype","toString","call","slice","constructor","test","_nonIterableSpread","TypeError","_toConsumableArray","arrayWithoutHoles","iterableToArray","unsupportedIterableToArray","nonIterableSpread","domProps","_s","formattedJSON","syntaxHighlight","cls","mounted","props","data","watch","component","downLoad","filename","JSON","stringify","blob","Blob","navigator","window","msSaveOrOpenBlob","elink","document","createElement","download","display","href","URL","createObjectURL","body","appendChild","click","revokeObjectURL","removeChild","components","JsonPre","buttonStyle","width","created","methods","file","newFileList","fileReader","console","method","url","timestamp","sign","then","catch","Vue"],"sourceRoot":""}